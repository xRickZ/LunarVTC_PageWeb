---
import { Image } from "astro:assets";
import 'photoswipe/style.css';
---


<div class="grid grid-cols-3 gap-8 mx-auto p-10 "
    id="gallery">

   { 
    Array.from({ length: 9 }).map((_, i) => (
    
    <a 
        class="group rounded-xl hover:scale-105 transition-all  
        relative"
        href={`/archivo-page/gallery/img-${i + 1}.png`} 
        target="_blank"
        data-pswp-width="900" 
        data-pswp-height="506" 
    >

        <img 
        class="rounded-xl relative "
        loading="lazy"
        src={`/archivo-page/gallery/img-${i + 1}-thumb.webp`} 
        alt=""
        />

        <img 
        class="blur-lg absolute inset-0 transition group-hover:contrast-150 opacity-90 -z-10 "
        loading="lazy"
        src={`/archivo-page/gallery/img-${i + 1}-thumb.webp`} 
        alt=""
        />
    </a>

    ))
   }
  </div>


<script>

    import PhotoSwipeLightbox from 'photoswipe/lightbox'

    const lightbox = new PhotoSwipeLightbox({
      gallery: '#gallery',
      children: 'a',
      showHideAnimationType: 'zoom',
      pswpModule: () => import('photoswipe'),
    })
    lightbox.init()
</script>
